apply plugin: 'org.jetbrains.kotlin.js'
apply plugin: 'kotlinx-serialization'

dependencies {
    implementation project(':SharedCode')
    implementation("org.jetbrains.kotlin:kotlin-stdlib-js:1.3.70")
    implementation("org.jetbrains.kotlinx:kotlinx-serialization-runtime-js:0.20.0")
    implementation("org.jetbrains.kotlinx:kotlinx-html-js:0.7.1")
}

compileKotlinJs {
    kotlinOptions.outputFile = "${rootDir}/app/src/main/assets/js/BluetoothSerialJs.js"
}

kotlin.target {
    browser {
        dceTask {
            keep 'CordovaAlternativePattern-BluetoothSerialJs.com.fivestars.bluetooth.BluetoothSerial'
        }
    }
}

